{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\jessi\\\\Desktop\\\\dynamic-web-midterm\\\\dynamic-web-midterm\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\jessi\\\\Desktop\\\\dynamic-web-midterm\\\\dynamic-web-midterm\\\\src\\\\containers\\\\Home\\\\index.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport '../../App.css';\nimport brandAssessment from '../../components/brandAssessment/index.js';\nimport adoptionPrompt from '../../components/adoptionPrompt/index.js';\nconst apiKey = '_eni_p7W6MtCsH3fbnf8';\nexport default function Home(props) {\n  console.log('this is my prop:', props);\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        error = _useState2[0],\n        isError = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        errorMessage = _useState4[0],\n        setErrorMessage = _useState4[1];\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        success = _useState6[0],\n        isSuccess = _useState6[1];\n\n  const _useState7 = useState({}),\n        _useState8 = _slicedToArray(_useState7, 2),\n        rescueData = _useState8[0],\n        setRescueData = _useState8[1];\n\n  const _useState9 = useState(''),\n        _useState10 = _slicedToArray(_useState9, 2),\n        city = _useState10[0],\n        setCity = _useState10[1];\n\n  function queryRescueAPI(queryData) {\n    axios.get(\"https://the-one-api.herokuapp.com/v1/character/authorize?q=\".concat(queryData, \"access_token=\").concat(apiKey)).then(function (response) {\n      console.log('response', response);\n\n      if (response.status !== 200) {\n        isError(true);\n        setErrorMessage(\"\".concat(response.status, \": \", 'Error'));\n      } else {\n        isSuccess(true);\n      }\n\n      setRescueData(response);\n      return response;\n    }).catch(function (error) {\n      console.log('error', error);\n      return error;\n    });\n  }\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(props.location.search);\n    console.log(urlParams);\n    const cityParam = urlParams.get('fields') ? urlParams.get('locationPostalCode') : '11373';\n    setCity(cityParam);\n    queryRescueAPI(cityParam);\n  }, []);\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, error && React.createElement(\"div\", {\n    className: \"errorMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, errorMessage), success && React.createElement(\"div\", {\n    className: \"successMessage\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Rescue query successful!\"), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \" City you selected: \", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, city)));\n}","map":{"version":3,"sources":["C:/Users/jessi/Desktop/dynamic-web-midterm/dynamic-web-midterm/src/containers/Home/index.js"],"names":["React","useEffect","useState","axios","brandAssessment","adoptionPrompt","apiKey","Home","props","console","log","error","isError","errorMessage","setErrorMessage","success","isSuccess","rescueData","setRescueData","city","setCity","queryRescueAPI","queryData","get","then","response","status","catch","urlParams","URLSearchParams","location","search","cityParam"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,eAAP;AAEA,OAAOC,eAAP,MAA4B,2CAA5B;AACA,OAAOC,cAAP,MAA2B,0CAA3B;AAEA,MAAMC,MAAM,GAAG,sBAAf;AAEA,eAAe,SAASC,IAAT,CAAcC,KAAd,EAAoB;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAA+BF,KAA/B;;AADiC,oBAETN,QAAQ,CAAC,KAAD,CAFC;AAAA;AAAA,QAE1BS,KAF0B;AAAA,QAEpBC,OAFoB;;AAAA,qBAGMV,QAAQ,CAAC,EAAD,CAHd;AAAA;AAAA,QAG3BW,YAH2B;AAAA,QAGbC,eAHa;;AAAA,qBAIJZ,QAAQ,CAAC,KAAD,CAJJ;AAAA;AAAA,QAI1Ba,OAJ0B;AAAA,QAIjBC,SAJiB;;AAAA,qBAMGd,QAAQ,CAAC,EAAD,CANX;AAAA;AAAA,QAM1Be,UAN0B;AAAA,QAMdC,aANc;;AAAA,qBAOThB,QAAQ,CAAC,EAAD,CAPC;AAAA;AAAA,QAO1BiB,IAP0B;AAAA,QAOpBC,OAPoB;;AAWjC,WAASC,cAAT,CAAwBC,SAAxB,EAAkC;AAEhCnB,IAAAA,KAAK,CAACoB,GAAN,sEAAwED,SAAxE,0BAAiGhB,MAAjG,GAECkB,IAFD,CAEM,UAASC,QAAT,EAAkB;AACtBhB,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBe,QAAxB;;AACA,UAAGA,QAAQ,CAACC,MAAT,KAAoB,GAAvB,EAA2B;AACzBd,QAAAA,OAAO,CAAC,IAAD,CAAP;AACAE,QAAAA,eAAe,WAAIW,QAAQ,CAACC,MAAb,QAAwB,OAAxB,EAAf;AACD,OAHD,MAII;AACFV,QAAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACDE,MAAAA,aAAa,CAACO,QAAD,CAAb;AACA,aAAOA,QAAP;AACD,KAbD,EAeCE,KAfD,CAeO,UAAShB,KAAT,EAAe;AACpBF,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBC,KAArB;AACA,aAAOA,KAAP;AACD,KAlBD;AAmBD;;AAEHV,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM2B,SAAS,GAAG,IAAIC,eAAJ,CAAoBrB,KAAK,CAACsB,QAAN,CAAeC,MAAnC,CAAlB;AACAtB,IAAAA,OAAO,CAACC,GAAR,CAAYkB,SAAZ;AACA,UAAMI,SAAS,GAAGJ,SAAS,CAACL,GAAV,CAAc,QAAd,IAA0BK,SAAS,CAACL,GAAV,CAAc,oBAAd,CAA1B,GAAgE,OAAlF;AACAH,IAAAA,OAAO,CAACY,SAAD,CAAP;AACAX,IAAAA,cAAc,CAACW,SAAD,CAAd;AACD,GANQ,EAMP,EANO,CAAT;AAQE,SACE;AAAK,IAAA,SAAS,EAAG,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEGrB,KAAK,IAAI;AAAK,IAAA,SAAS,EAAG,cAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCE,YAAjC,CAFZ,EAGGE,OAAO,IAAI;AAAK,IAAA,SAAS,EAAG,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAHd,EAKG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOI,IAAP,CAAxB,CALH,CADF;AAUD","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport '../../App.css';\r\n\r\nimport brandAssessment from '../../components/brandAssessment/index.js';\r\nimport adoptionPrompt from '../../components/adoptionPrompt/index.js';\r\n\r\nconst apiKey = '_eni_p7W6MtCsH3fbnf8';\r\n\r\nexport default function Home(props){\r\n  console.log('this is my prop:',props);\r\n  const [error,isError] = useState(false)\r\n  const[errorMessage, setErrorMessage] = useState('')\r\n  const [success, isSuccess] = useState(false)\r\n\r\n  const [rescueData, setRescueData] = useState({});\r\n  const [city, setCity] = useState('');\r\n\r\n\r\n\r\n  function queryRescueAPI(queryData){\r\n\r\n    axios.get(`https://the-one-api.herokuapp.com/v1/character/authorize?q=${queryData}access_token=${apiKey}`)\r\n\r\n    .then(function(response){\r\n      console.log('response', response);\r\n      if(response.status !== 200){\r\n        isError(true);\r\n        setErrorMessage(`${response.status}: ${'Error'}`);\r\n      }\r\n      else{\r\n        isSuccess(true);\r\n      }\r\n      setRescueData(response);\r\n      return response;\r\n    })\r\n\r\n    .catch(function(error){\r\n      console.log('error', error);\r\n      return error;\r\n    });\r\n  }\r\n\r\nuseEffect(() => {\r\n  const urlParams = new URLSearchParams(props.location.search)\r\n  console.log(urlParams)\r\n  const cityParam = urlParams.get('fields') ? urlParams.get('locationPostalCode') : '11373';\r\n  setCity(cityParam);\r\n  queryRescueAPI(cityParam);\r\n},[]);\r\n\r\n  return(\r\n    <div className = \"App\">\r\n\r\n      {error && <div className = \"errorMessage\">{errorMessage}</div>}\r\n      {success && <div className = \"successMessage\">Rescue query successful!</div>}\r\n\r\n       <h1> City you selected: <span>{city}</span></h1>\r\n    </div>\r\n  );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}